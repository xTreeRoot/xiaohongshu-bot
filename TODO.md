# 小红书机器人 - 待办事项

## 进行中

- [x] 设计SQLite数据库表结构 - 存储DOM元素信息（元素ID、选择器、类型、位置、文本内容、更新时间）
- [x] 创建DOM元素数据库管理类 - 实现增删改查功能

## 计划中

### DOM元素智能管理（AI Agent驱动）
- [ ] 重构AI提升词 - 使AI能根据页面DOM结构智能生成操作指令
- [ ] 创建DOM元素识别Agent - 分析页面结构并提取关键操作元素
- [ ] 实现页面元素自动扫描 - 定期更新数据库中的DOM信息
- [x] 集成DOM Agent到现有业务流程 - 在自动化操作前先查询数据库
- [x] 实现DOM元素缓存机制 - 提高页面操作效率

### 数据记录功能（用于训练本地数据）
- [ ] 创建 `utils/data_logger.py` 工具类，封装 JSON 数据读写逻辑
- [ ] 在发布管理器中添加功能：
  - 每次发帖后将帖子数据（标题、内容、描述）保存到 `data/post.json`
  - 在 `PublishManager.publish_workflow()` 方法中集成数据记录
- [ ] 在评论管理器中添加功能：
  - 每次回复评论后将数据（帖子标题、评论内容、回复内容）保存到 `data/reply.json`
  - 在 `CommentManager.reply_to_comment()` 方法中集成数据记录

### 功能优化
- [ ] 添加内容审核机制（避免过度违规）
- [ ] 实现回复内容缓存（避免重复生成）
- [ ] 添加 AI 生成内容的测试用例

### core
- [ ] 完善错误处理
- [ ] 添加日志记录


## 已完成

### AI 模块（工厂模式重构）
- [x] 重构为工厂模式架构
  - [x] 定义 `BaseAIClient` 抽象基类
  - [x] 实现 `OpenAIClient` 默认客户端
  - [x] 实现 `AIClientFactory` 工厂类
  - [x] 支持注册自定义客户端
  - [x] 更新 `AIManager` 支持工厂模式
  - [x] 创建自定义客户端示例
  - [x] 编写完整的开发指南

- [x] 接入无限制 AI 服务
  - [x] 调研可用的 AI API（支持 OpenAI 及兼容 API）
  - [x] 实现 AI 客户端封装
  - [x] 配置 API Key 和调用参数
  
- [x] 小红书风格文案生成功能
  - [x] 设计 Prompt 模板（小仙女风格）
  - [x] 实现 100 字短文生成接口
  - [x] 支持生成逆天言论风格内容
  - [x] 支持生成引战风格内容
  - [x] 添加内容多样性控制
  
- [x] 智能评论回复功能
  - [x] 分析评论情感和意图
  - [x] 生成斗争性回复内容
  - [x] 根据不同评论类型调整回复策略
  - [x] 实现回复内容的多样化

### 基础功能
- [x] 基础项目架构搭建
- [x] 浏览器管理模块
- [x] 笔记发布功能
- [x] 评论管理功能

---

## 注意事项
 **重要提醒**：
 定期检查账号状态，防止被限流或封禁
---

*最后更新：2026-01-05*